인보전 2급 실기 풀이

1. 주어진 linux시스템에서 비정상 트래픽이 유발되었다는 신고가 접수되었다. 시스템을 분석하여 root의 권한을 획득한 일반계정명 및 분석과정을 답안란에 기술하시오.

$ vi /etc/passwd
root에 uid, gid값을 확인하고 그 값을 공통적으로 가지고있는 유저를 찾는다.
새로 추가된 계정은 passwd 맨밑에서 찾아보면 보인다.
EX> potter::0:0:potter~
위 계정이 root권한을 획득한 일반계정명이다.

2. 주어진 Linux시스템에 누군가 허가 없이 4000~5000번 사이의 TCP포트번호를 열어 LISTEN하고 있다. 해당 포트번호를 찾고 분석과정을 답안란에 기술하시오.
$netstat -nat | grep LISTEN
-nat(더 자세한 정보 옵션)
netstat옵션값
```
-l (listen) 연결 가능한 상태
-n (number port) 포트 넘버
-t (tcp)
-u (udp)
-p 프로그램 이름
-a 모두
-i 이더넷 카드별 정상/에러/드랍 송수신패킷수확인
-r 라우팅 테이블
-s 네트워크 통계
```
listen된(접속대기상태인) tcp포트를 찾기 위해 위 명령어를 찾아본다.
그중 포트 번호가 문제에 충족되는가를 확인한다.

위 옵션을 참고하여
```
$netstat -nlpt 를 사용해도 된다.

3. 주어진 Linux 시스템의 로그 확인 결과 아파치(Apache)환경파일이 변경되었음을 알게 되었다. 
“/etc/httpd.conf”와  “etc/httpd.conf.old”을 비교하여 변경된 줄 변호 및 분석과정을 답안란에 기술하시오.

$diff /etc/httpd.conf /etc/httpd.conf.old
의 결과로 나온 것을 확인한다. (내용까지 확인)
$cmp /etc/httpd.conf /etc/httpd.conf.old
몇 번째 줄이 바뀐지만 확인.(단순 비교)
4. 주어진 Linux시스템의 FTP서버 접근 실패 시 접근을 차단시키려고 한다. “/etc/ftpaccess”파일을 이용하여, ‘3’회 접근 실패 시 차단시키는 “설정과정”을 답안란에 기술하시오.
$ vi /etc/ftpaccess
로 옵션값을 확인한다.
Loginfails 5에 숫자를 3으로 바꿔주면된다.

5. 주어진 Linux시스템의 root계정에 대한 자동 로그아웃 시간을 “50”초 로 설정하려고 한다. “설정과정”을 답안란에 기술하시오.
$ vi /etc/profile
을 입력한다. 
TMOUT 이라는 옵션이 없다면 추가해서
TMOUT=50 을 입력해주면된다.

6. TCP Wrapper는 Localgost로 들어오는 인터넷 서비스에 대한 요청(Request)을 관찰하고 필터링 할 수 있다. 주어진 linux시스템을 이용하여 SSH데몬(sshd)으로 접근하는 모든 호스트(Host)에 대해서만 요청을 허락하도록 “/etc/hosts.allow”와  “/etc/hosts.deny”설정과정을 답안란에 기술하시오.
$vi /etc/hosts.allow를 입력한다.
내부 파일에
>in.sshd:ALL 후 저장. (들어오는 sshd에 대해 허가를 하는 입력입니다.)
$vi /etc/hosts.deny를 입력한다.
>ALL:ALL 후 저장(모든 것을 차단)
원래는 서비스 적용이 필요하지만 시험에서는 필요하진 않다.




7. 외부로부터의 ICMP프로토콜을 사용한 악의적인 공격으로부터 현재의시스템을 보호하고자 한다.
iptables를 사용하여 INPUT 패킷에 대한 모든 ICMP 패킷을 차단하는 설정과정을 답안란에 쓰시오.
$iptables -L (방화벽 설정 옵션)
그 결과에서 별도의 ICMP관련 설정이 보이지 않는다면
ICMP패킷이 들어왔을때 드랍하는 과정을 해야한다.
$iptables -A INPUT -p icmp -j DROP 을 입력해준다. (p 프로토콜 옵션)
설정 후 확인하기 위해
$ iptables -L을 입력해 확인한다.

8. 주어진 Linux 시스템의 계정에 대한 확인 결과, 암호화 강도가 낮아서 내부 사용자들에게 패스워드를 변경하도록 하였으나, 제대로 이행되지 않고 있어 강제적으로 패스워드를 변경하려고 한다. 아래 제시된 계정 패스워드의 정책 설정 과정을 답안란에 기술하시오.
-패스워드가 변경 된지 30일이 지나면 무조건 새 패스워로 변경해야한다.
-패스워드는 최소한 8자 이상 사용해야한다.

$vi /etc/login.defs 입력 후
PASS_MAX_DAYS 뒤에 있는 숫자를 변경해준다.
PASS_MIN_LEN 뒤에 있는 숫자를 변경해준다.
다만 이 login.defs는 새로운 계정에 대해 적용되므로 기존파일은 etc/shadow에서 직접 수정해야한다.






9. 아파치 서버를 운영하는 웹 서바가 해킹을 당해 관리자로부터 아래 <웹 로그>를 받았다.
<웹 로그>를 분석하여 어떤 공격인지 답안란에 기술하시오.
Sql 인젝션(SQL Injection)

웹로그를 분석해보면 웹서버의 80번 포트에(웹서버로 들어옴) get방식으로 특정 값에 대한 요청이 들어왔다. 그 요청으로써 암호화된 값들이 들어왔을대 select값이 들어온 상태에서 그 다음 단계에 select top이 되어 desc(정렬) 즉 내용을 정렬해서 불러오겠다는 명령들을 볼 수 있습니다. 이는 정상적인 코맨트였다면 다 보였을텐데 sQL서버 들아ㅣ버에서 에러 메시지를 반환했으므로 QL문 자체에 대한 오류가 발생했다는 것을 알 수 있습니다. 이 갓ㅂ들이 차츰차츰 변화되면서 일정한 오류를 반환했다는 것은 SQL 인젝션(injection)을 통해서 서버가 공격받고있다는 것을 의미합니다. SQL인젝션을 당하고 있다는 것을 글로써 잘 표현하면 됩니다.

10. 방화벽과 IDS의 장점을 결합하여 만든 보안 솔루션(장비)
인터넷 윔 등과 같은 악성코드 및 해킹에 기인한 유해 트래픽을 차단
피해를 주기 전에 미리 능동적으로 공격을 차단함으로써 공격 피해를 최소화
Application의 취약점을 사전에 보완하고 버퍼 오퍼플로우등을 예방
정상적으로 작동하는 네트워크 트래픽 상태를 기억해 두어 비정상적인 트래픽이 발생할 때 이를 기반으로 알려지지 않은 공격까지 차단

침입탐지 기능을 수행하는 모듈이 패킷을 일일이 검사하여 해당 패턴을 분석한 후, 정상적인 패킷이 아니면 방화벽 기능을 가진 모듈로 차단한다.
IPS(Intrusion Protection System | 침입방지 시스템)




두 번째 족보(네이버 블로그)
중복 사항은 작성하지 않았습니다.

3. /proc/sys 시스템에서 포트 포워딩을 설정하지 않게 하기 위해서는 “echo”값”> /proc/sys/파일-1/파일-2”와 같은 명령어를 사용하게 된다. 여기서 “값”에 들어간느 적절한 내용을 작성하시오
정답은 “0”이다. 0이(no)의미로 쓰이기 때문이다.

7. /etc/service 파일에 계정에 대한 궎나을 설ㅈ어하려고한다. 현 사용자에는 읽기와 쓰기 권한을, 현 사용자와 동일한 그룹 사용자에게는 쓰기 권한, 그 외의 사용자에게 쓰기 권한을 부여해라.
>chmod 644 /etc/service 명령어로 설정해주면된다.
4 2 1 ( r w x 각각 읽기 쓰기 실행하기 권한 숫자다)

9/(특정 로그 파일을 보여준 뒤) 아파치 서버에 발생한 로그이다. 검색 봇ㅇ르 탐지한 IP주소를 작성하시오, 없으면 없다라고 작성하시오.
> 해당 문제는 특정 로그 팡링르 보여준 뒤 검색 봇을 탐지한IP주소를 작성하라는 문제였다. 약 4개의 IP에서 접근한 기록들이 있는데 3개는 그냥 png나 다른 파일을 다운로드 해간 IP들이였고 하나가 robot.txt파일에 접근한 IP가 있었다. 답은 해당 IP이다.
10. 해당 바이러스는 바이러스 발생 시 바이러스 이름에 대한 내용 혹은 파일이 많이 생기며, usb,네트워크 파일, 공유 파일등으로 인해 감염되는 바이러스이다. 해당 바이러스의 이름을 작성하시오.
-> 이 문제에 대해서는 몰랐기에 대충 아무 바이러스나 작성하고 나왔다. 지금까지도 구글링을 해봤는데, 정확한 답을 잘 모르겠다. ( 수정 요망)

11. 웹 상에서 스크립트(<, &, $, >)를 부적절하게 사용하여 악의적인 행동을 발생시키는 취약점에 대해 작성하시오.
> 해당 문제의 답은 XSS취약점이다.


12. 고든 라이온에서 만든 포트 스캔 툴로 자가 광고의 접근도 탐지할 수 있는 툴이다.(해당 툴의 사용화면을 보여준두) 해당 툴의 이름을 작성하시오
> 정답은 NMAP툴이다.

다른 곳에서 찾은 문제들이다
답이
XSS RSA 스턱스넷 이렇게 3개가 존재했다.
